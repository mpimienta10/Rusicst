
<div>
    <div class="rusicst-overlay rusicst-overlay-loading" ng-hide="started">
    </div>
    <div class="row"> <h2>Administrar Derechos PAT</h2></div>
    <div class="row">
        <form role="form" class="form-horizontal" name="myForm" novalidate>
            <div class="sombra panel panel-default">
                <div class="panel-heading">Criterio de búsqueda</div>
                <div class="panel-body">
                    <div class="form-group">
                        <label class="col-sm-2 control-label required" for="Derechos">Derechos</label>
                        <div class="col-sm-10">
                            <select id="Derechos" name="Derechos" ng-model="registro.Id" class="form-control input-sm ng-pristine ng-valid" required>
                                <option ng-repeat="item in derechos" value="{{item.Id}}">{{item.Descripcion}}</option>
                            </select>
                            <span class="text-danger" ng-show="submitted && myForm.Derechos.$error.required">Seleccione un Derecho</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-2">
                            <button type="button" class="btnNew ancho" ng-disabled="cargando" ng-click="submitted=true;consultar()">Consultar</button>
                        </div>
                    </div>
                    <div class="form-group" ng-show="cargando">
                        <span class="col-sm-12 rusicst-center"><i class="fa fa-spinner fa-pulse fa-2x fa-fw loading"></i></span>
                    </div>
                </div>
            </div>
            <div class="sombra panel panel-default" ng-if="submitted && !cargando && validacion">
                <div class="panel-heading">
                    Descripción
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Descripción</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" ng-model="textos.DescripcionDetallada" style="overflow-x:hidden ; resize: none" maxlength="300" rows="3"></textarea>
                            <div> <span class="col-sm-12">Caracteres restantes: {{300 - textos.DescripcionDetallada.length}}</span></div>
                        </div>
                        
                        <div class="col-sm-offset-2 col-sm-2">
                            <button type="button" class="btnNew ancho" ng-disabled="cargando" ng-click="actualizarTexto()">Actualizar</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sombra panel panel-default" ng-if="submitted && !cargando && validacion">
                <div class="panel-heading">
                    Gobernaciones
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <div class="col-sm-6">
                            <div class="pull-right"><button class="btn btn-new" ng-click="abrirModal('url','gobernacion',  true )">Adicionar Url</button></div>
                        </div>
                        <div class="col-sm-6">
                            <div class="pull-right"><button class="btn btn-new" ng-click="abrirModal('archivo', 'gobernacion',  true)">Adicionar Archivo</button></div>
                        </div>
                        <div class="col-sm-6">
                            <ul>
                                <li ng-repeat="item in gobernacionUrls">
                                    <a href=""><span class="fa fa-pencil-square-o color-green" ng-click="abrirModal('url','gobernacion',  false, item.Id, item)" title="Editar"></span></a>
                                    <a href=""><span class="fa fa-trash-o color-red" ng-click="abrirModalEliminar(item)"title="Eliminar"></span></a>
                                    <a href="{{item.ParametroValor}}" target="_blank" > {{item.Texto}}</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-6">
                            <ul>
                                <li ng-repeat="item in gobernacionArchivos">
                                    <a href=""><span class="fa fa-pencil-square-o color-green" ng-click="abrirModal('archivo','gobernacion',  false, item.Id, item)" title="Editar"></span></a>
                                    <a href=""><span class="fa fa-trash-o color-red" ng-click="abrirModalEliminar(item)" title="Eliminar"></span></a>
                                    <a href="{{item.ParametroValor}}" target="_blank" uib-popover="{{item.Descripcion}}" popover-title="Descripción:" popover-trigger="'mouseenter'" ng-click="descargar(item)"> {{item.Texto}}</a>
                                </li>
                            </ul>
                        </div>
                        
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Texto Explicativo</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" ng-model="textos.TextoExplicativoGOB" style="overflow-x:hidden ; resize: none" title="Eliminar" rows="3" maxlength="300"></textarea>
                            <div> <span class="col-sm-12">Caracteres restantes: {{300 - textos.TextoExplicativoGOB.length}}</span></div>
                        </div>
                        <div class="col-sm-offset-2 col-sm-2">
                            <button type="button" class="btnNew ancho" ng-disabled="cargando" ng-click="actualizarTexto()" title="Eliminar">Actualizar</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sombra panel panel-default" ng-if="submitted && !cargando && validacion">
                <div class="panel-heading">
                    Alcaldías
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <div class="col-sm-6">
                            <div class="pull-right"><button class="btn btn-new" ng-click="abrirModal('url','alcaldia',  true )">Adicionar Url</button></div>
                        </div>
                        <div class="col-sm-6">
                            <div class="pull-right"><button class="btn btn-new" ng-click="abrirModal('archivo', 'alcaldia',  true)">Adicionar Archivo</button></div>
                        </div>
                        <div class="col-sm-6">
                            <ul>
                                <li ng-repeat="item in alcaldiasUrls">
                                    <a href=""><span class="fa fa-pencil-square-o color-green" ng-click="abrirModal('url','alcaldia',  false, item.Id, item)" title="Editar"></span></a>
                                    <a href=""><span class="fa fa-trash-o color-red" ng-click="abrirModalEliminar(item)" title="Eliminar"></span></a>                                    
                                    <a href="{{item.ParametroValor}}" target="_blank"> {{item.Texto}}</a>

                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-6">
                            <ul>
                                <li ng-repeat="item in alcaldiasArchivos">
                                    <a href=""><span class="fa fa-pencil-square-o color-green" ng-click="abrirModal('archivo','alcaldia',  false, item.Id, item)" title="Editar"></span></a>
                                    <a href=""><span class="fa fa-trash-o color-red" ng-click="abrirModalEliminar(item)" title="Eliminar"></span></a>
                                    <a href="{{item.ParametroValor}}" target="_blank" uib-popover="{{item.Descripcion}}" popover-title="Descripción:" popover-trigger="'mouseenter'" ng-click="descargar(item)"> {{item.Texto}}</a>
                                </li>
                            </ul>
                        </div>
                       
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Texto Explicativo</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" ng-model="textos.TextoExplicativoALC" style="overflow-x:hidden ; resize: none" rows="3"  maxlength="300"></textarea>
                            <div> <span class="col-sm-12">Caracteres restantes: {{300 - textos.TextoExplicativoALC.length}}</span></div>
                        </div>
                        <div class="col-sm-offset-2 col-sm-2">
                            <button type="button" class="btnNew ancho" ng-disabled="cargando" ng-click="actualizarTexto()">Actualizar</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!--@*Div de errores y alertas*@-->
    <div class="form-group">
        <div class="alert alert-warning text-center" ng-if="alerta" role="alert">{{alerta}}</div>
        <label class="text-danger" ng-if="error">{{error}}</label>
    </div>
</div>



